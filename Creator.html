

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creator class! &mdash; HMPy 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="HMPy 0.1 documentation" href="index.html"/>
        <link rel="next" title="GestureModel class!" href="GestureModel.html"/>
        <link rel="prev" title="Classifier class!" href="Classifier.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> HMPy
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Classifier.html">Classifier class!</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Creator class!</a></li>
<li class="toctree-l1"><a class="reference internal" href="GestureModel.html">GestureModel class!</a></li>
<li class="toctree-l1"><a class="reference internal" href="Recognition.html">Recognition class!</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">HMPy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Creator class!</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Creator.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-Creator">
<span id="creator-class"></span><h1>Creator class!<a class="headerlink" href="#module-Creator" title="Permalink to this headline">¶</a></h1>
<p>&#64;See preprocessed data</p>
<dl class="class">
<dt id="Creator.Creator">
<em class="property">class </em><code class="descclassname">Creator.</code><code class="descname">Creator</code><a class="headerlink" href="#Creator.Creator" title="Permalink to this definition">¶</a></dt>
<dd><p>GenerateModel assumes the trials provided to be the
modelling dataset of a Human Motion Primitive (HMP) and returns the model
of the HMP computed by executing Gaussian Mixture Modelling (GMM) and
Gaussian Mixture Regression (GMR) over the modelling dataset. The
model is defined by the expected curve and associated set of covariance
matrices of the features extracted from the trials.</p>
<p>Actually considered features are:
- 4D gravity (time, gravity components on the 3 axes)
- 4D body acceleration (time, body acc. components on the 3 axes)</p>
<dl class="method">
<dt id="Creator.Creator.CreateDatasets_Acc">
<code class="descname">CreateDatasets_Acc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.CreateDatasets_Acc" title="Permalink to this definition">¶</a></dt>
<dd><p>CreateDatasets computes the gravity and body acceleration components of the trials given in the [dataset]s by calling the function GetComponents for each trial and reshapes the results into one set of gravity components and one set of body acceleration components according to the requirements of Gaussian Mixture Modelling.</p>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.GetComponents">
<code class="descname">GetComponents</code><span class="sig-paren">(</span><em>x_axis</em>, <em>y_axis</em>, <em>z_axis</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.GetComponents" title="Permalink to this definition">¶</a></dt>
<dd><p>GetComponents discriminates between gravity and body acceleration by
applying an infinite impulse response (IIR) filter to the raw
acceleration data (one trial) given in input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_axis</strong> &#8211; acceleration data in the axis x</li>
<li><strong>y_axis</strong> &#8211; acceleration data in the axis y</li>
<li><strong>z_axis</strong> &#8211; acceleration data in the axis z</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return gravity:</th><td class="field-body"><p class="first">gravity component of the acceleration data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return body:</th><td class="field-body"><p class="first last">body component of the acceleration data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.GetExpected">
<code class="descname">GetExpected</code><span class="sig-paren">(</span><em>set_</em>, <em>K</em>, <em>numGMRPoints</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.GetExpected" title="Permalink to this definition">¶</a></dt>
<dd><p>GetExpected performs Gaussian Mixture Modeling (GMM) and Gaussian Mixture
Regression (GMR) over the given dataset. It returns the expected curve
(expected mean for each point, computed over the values given in the
[set]) and associated set of covariance matrices defining the &#8220;model&#8221;
of the given dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>set</strong> &#8211; either the gravity or the body acc. dataset retrived from CreateDatasets</li>
<li><strong>K</strong> &#8211; optimal number of clusters to be used to cluster the data of the given dataset retrieved from TuneK</li>
<li><strong>numGMRPoints</strong> &#8211; number of data points composing the expected curves to be computed by GMR</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return expData:</th><td class="field-body"><p class="first">expected curve obtained by modelling the given dataset with the GMM+GMR procedure</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return expSigma:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">associated covariance matrices obtained by modelling the given dataset with the GMM+GMR procedure</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.ObtainNumberOfCluster">
<code class="descname">ObtainNumberOfCluster</code><span class="sig-paren">(</span><em>acc=True</em>, <em>gyro=False</em>, <em>algorithm='KMeans'</em>, <em>save=True</em>, <em>path=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.ObtainNumberOfCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the expected curve for each dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>acc</strong> &#8211; bool parameter that indicates if the accelerometer data will be used</li>
<li><strong>gyro</strong> &#8211; bool parameter that indicates if the gyroscope data will be used</li>
<li><strong>algorithm</strong> &#8211; algorithm used to obtain the number of clusters</li>
<li><strong>save</strong> &#8211; bool parameter that indicates if the plots are saved</li>
<li><strong>path</strong> &#8211; path where the plots will be saved</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.ReadFiles">
<code class="descname">ReadFiles</code><span class="sig-paren">(</span><em>names_acc</em>, <em>names_gyro</em>, <em>acc=True</em>, <em>gyro=False</em>, <em>dfilter='median'</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.ReadFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data from a list of files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>names_acc</strong> &#8211; list of files that contains the accelerometer data to be used as modelling dataset for a HMP</li>
<li><strong>names_gyro</strong> &#8211; list of files that contains the gyroscope data to be used as modelling dataset for a HMP</li>
<li><strong>acc</strong> &#8211; bool parameter that indicates if the accelerometer data will be used</li>
<li><strong>gyro</strong> &#8211; bool parameter that indicates if the gyroscope data will be used</li>
<li><strong>dfilter</strong> &#8211; type of filter used to reduce noise in the data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.RetrieveModel">
<code class="descname">RetrieveModel</code><span class="sig-paren">(</span><em>K</em>, <em>priors</em>, <em>mu</em>, <em>sigma</em>, <em>points</em>, <em>in_</em>, <em>out</em>, <em>numVar</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.RetrieveModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs Gaussian Mixture Regression (GMR) over the GM model defined by its parameters. By providing temporal values as inputs, it returns a smooth generalized version of the data encoded in the GMM and the associated constraints expressed by the covariance matrices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>K</strong> &#8211; number of clusters</li>
<li><strong>priors</strong> &#8211; apriori probavbility</li>
<li><strong>mu</strong> &#8211; mean</li>
<li><strong>sigma</strong> &#8211; covariance</li>
<li><strong>points</strong> &#8211; input data (starting points to be used for GMR)</li>
<li><strong>in</strong> &#8211; input dimension</li>
<li><strong>out</strong> &#8211; output dimension</li>
<li><strong>numVar</strong> &#8211; axis number, ex: if we use x,y,z then this parameters must be = 3</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return expMeans:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">set of expected means for the given GM model</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return expSigma:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">covariance matrices of the expected points in expMeans</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.TuneK">
<code class="descname">TuneK</code><span class="sig-paren">(</span><em>set_</em>, <em>maxK</em>, <em>name</em>, <em>save=True</em>, <em>path=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.TuneK" title="Permalink to this definition">¶</a></dt>
<dd><p>TuneK determines the optimal number of clusters to be used to cluster
the given [set] with K-means algorithm. It cycles from K = 2 to [maxK].
The optimization criterion adopted is a variant of the elbow method: at
each iteration TuneK computes the silhouette values of the clusters
determined by the K-means algorithm and compares them with the values
obtained at the previous iteration. When the quality of the
clustering falls below a fixed threshold, TuneK stops.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>set</strong> &#8211; either the gravity or the body acc. dataset retrived from
CreateDatasets</li>
<li><strong>maxK</strong> &#8211; maximum number of clusters to be used to cluster the given
dataset.</li>
<li><strong>name</strong> &#8211; component name (gravity or body)</li>
<li><strong>save</strong> &#8211; bool parameter that indicates if the plots are saved</li>
<li><strong>path</strong> &#8211; path where the plots will be saved</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return Koptimal:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">optimal number of clusters to be used to cluster the data
of the given dataset</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.bench_k_means">
<code class="descname">bench_k_means</code><span class="sig-paren">(</span><em>data</em>, <em>name</em>, <em>save=False</em>, <em>path=''</em>, <em>plot=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.bench_k_means" title="Permalink to this definition">¶</a></dt>
<dd><p>Silhouette analysis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; dataset trasposed</li>
<li><strong>name</strong> &#8211; component name (gravity or body)</li>
<li><strong>save</strong> &#8211; bool parameter that indicates if the plots are saved</li>
<li><strong>path</strong> &#8211; path where the plots will be saved</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return Koptimal:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">optimal number of clusters to be used to cluster the data of the given dataset</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Creator.Creator.runGMM">
<code class="descname">runGMM</code><span class="sig-paren">(</span><em>dataset</em>, <em>K</em><span class="sig-paren">)</span><a class="headerlink" href="#Creator.Creator.runGMM" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute GMM in a data set given a K number of clusters
:param dataset: either the gravity or the body acc. dataset retrived from CreateDatasets
:param K: number of clusters
:return priors: apriori probavbility
:return mu: mean
:return sigma: covariance</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="GestureModel.html" class="btn btn-neutral float-right" title="GestureModel class!" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Classifier.html" class="btn btn-neutral" title="Classifier class!" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Enrique Coronado.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>